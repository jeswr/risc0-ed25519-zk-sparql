// These constants represent the RISC-V ELF and the image ID generated by risc0-build.
// The ELF is used for proving and the ID is used for verification.
use host::run::{run, Args, Mode};
use clap::Parser;
fn main() {
    // Initialize tracing. In order to view logs, run `RUST_LOG=info cargo run`
    tracing_subscriber::fmt()
        .with_env_filter(tracing_subscriber::filter::EnvFilter::from_default_env())
        .init();
    if std::env::var("RISC0_PPROF_OUT").is_ok() {
        run(&Args {
            mode: Mode::Prove,
            output_file: "result.temp.json".to_string(),
            path: Some("data/generated/ed25519-preprocessed".to_string()),
            query_file: Some("queries/query.rq".to_string()),
        });
    } else {
        let args = Args::parse();
        run(&args);
    }
}
